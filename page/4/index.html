<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#33363b">
    <meta name="msapplication-TileColor" content="#33363b">
    
    
    
    <meta name="keywords" content="自然语言处理, 人工智能, 图像识别, 信息检索">
    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    
    
    <link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-chrome-192x192.png">
    
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    
    
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#33363b">
    
    
    <link rel="manifest" href="/favicons/site.webmanifest">
    
    
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    
    
    <link rel="alternate" href="/atom.xml" title="chenying99'blog" type="application/atom+xml" />
    
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico">
    
    
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    
    <link rel="stylesheet" type="text/css" href="/css/sidebar.css">
    
    
<link rel="stylesheet" type="text/css" href="/css/page.css">
<link rel="stylesheet" type="text/css" href="/css/post.css">

    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/css/atom-one-dark.css">
    <link rel="stylesheet" type="text/css" href="/css/lightgallery.min.css">
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script defer type="text/javascript" src="/js/util.js"></script>
    <script defer type="text/javascript" src="/js/scrollspy.js"></script>
    <script defer type="text/javascript" src="/js/fontawesome-all.min.js"></script>
    <script defer type="text/javascript" src="/js/lightgallery.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-fullscreen.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-hash.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-pager.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-thumbnail.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-zoom.min.js"></script>
    
    <script defer src="/js/busuanzi.pure.mini.js"></script>
    
    
    <script defer type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
      var searchPath = "search.xml";
      if (searchPath.length === 0) {
        searchPath = "search.xml";
      }
      var path = "/" + searchPath;
      searchFunc(path, "search-input", "search-result");
    });
    </script>
    
    
    <script defer type="text/javascript" src="/js/index.js"></script>
    
    <script defer type="text/javascript" src="/js/custom.js"></script>
    <title>chenying99'blog - 君子博学而日参省乎己，则知明而行无过矣</title>
  </head>
  <body itemscope itemtype="http://schema.org/WebPage" lang="zh_CN"  data-spy="scroll" data-target=".list-group">
    
<header id="header" class="header" style="background: #33363b;">
  <div class="container">
    <div class="header-container">
      <div class="header-title">
        <h1 class="title"><a href="/">chenying99'blog</a></h1>
        <h2 class="subtitle">君子博学而日参省乎己，则知明而行无过矣</h2>
      </div>
      
      <div class="logo">
        <img src="/images/logo.png" alt="logo">
      </div>
      
    </div>
    <nav id="nav" class="nav">
      <a id="nav-toggle" class="nav-toggle" aria-hidden="true"><i class="fas fa-bars" aria-label="切换导航栏"></i></a>
      <ul id="menu" role="menubar" aria-hidden="false">
        
        <li role="menuitem"><a href="/">首页</a></li>
        
        <li role="menuitem"><a href="/archives/">归档</a></li>
        
        <li role="menuitem"><a href="/categories/">分类</a></li>
        
        <li role="menuitem"><a href="/tags/">标签</a></li>
        
        <li role="menuitem"><a href="/about/">关于</a></li>
        
      </ul>
    </nav>
  </div>
</header>


    <main id="main" class="main">
      <div class="container">
        <div class="main-container">
          <div class="content">
            

<div id="index" class="index page">
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/11/python开发：scrapy爬虫（六）/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="hedgehog">
        <meta itemprop="description" content="程序爱好者">
        <meta itemprop="image" content="/images/avatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="chenying99'blog">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/08/11/python开发：scrapy爬虫（六）/" itemprop="url">python开发：scrapy爬虫（六）</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-08-11T14:09:37+08:00">2019-08-11 14:09:37</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>本文实现详情页数据的采集功能 </p>
<p>首先修改items.py文件，新增ArticleItem类<br><figure class="hljs highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScrapytutorialItem</span><span class="params">(scrapy.Item)</span>:</span></span><br><span class="line">    <span class="comment"># define the fields for your item here like:</span></span><br><span class="line">    <span class="comment"># name = scrapy.Field()</span></span><br><span class="line">    title = scrapy.Field()</span><br><span class="line">    link = scrapy.Field()</span><br><span class="line">    <span class="comment"># pass</span></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArticleItem</span><span class="params">(scrapy.Item)</span>:</span></span><br><span class="line">    title = scrapy.Field()</span><br><span class="line">    link = scrapy.Field()</span><br><span class="line">    content = scrapy.Field()</span><br><span class="line">    update = scrapy.Field()</span><br><span class="line">    cate = scrapy.Field()</span><br></pre></td></tr></table></figure></p>
<p>修改blog_spider.py文件<br><figure class="hljs highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> scrapy.selector <span class="keyword">import</span> Selector</span><br><span class="line"><span class="keyword">from</span> scrapy.http <span class="keyword">import</span> HtmlResponse</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> ..items <span class="keyword">import</span> ScrapytutorialItem</span><br><span class="line"><span class="keyword">from</span> ..items <span class="keyword">import</span> ArticleItem</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line">    name = <span class="string">'blog'</span>    </span><br><span class="line">    start_urls = &#123;        </span><br><span class="line">        <span class="string">'https://www.cnblogs.com/chenying99'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></span><br><span class="line"></span><br><span class="line">        items = ScrapytutorialItem()</span><br><span class="line">        container = response.css(<span class="string">'#main'</span>)[<span class="number">0</span>]</span><br><span class="line">        posts = container.css(<span class="string">'div.post'</span>)</span><br><span class="line">        <span class="keyword">for</span> article <span class="keyword">in</span> posts:</span><br><span class="line"></span><br><span class="line">            title = article.css(<span class="string">'a.postTitle2::text'</span>).extract_first().strip()</span><br><span class="line">            link = article.css(<span class="string">'a.postTitle2::attr(href)'</span>).extract_first()</span><br><span class="line">            items[<span class="string">'title'</span>] = title</span><br><span class="line">            items[<span class="string">'link'</span>] = link</span><br><span class="line">            url = response.urljoin(link)</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url=url, callback=self.parse_details)           </span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        next_page = response.css(<span class="string">'#homepage_bottom_pager &gt; div &gt; a:nth-child(8)::attr(href)'</span>).get()</span><br><span class="line">        <span class="keyword">if</span> next_page <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">yield</span> response.follow(next_page, callback=self.parse)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_details</span><span class="params">(self, response)</span>:</span></span><br><span class="line">        items = ArticleItem()        </span><br><span class="line">        title = response.css(<span class="string">'#cb_post_title_url::text'</span>).extract_first(default=<span class="string">'not-found'</span>).strip()</span><br><span class="line">        link = response.css(<span class="string">'#cb_post_title_url::attr(href)'</span>).extract_first().strip()</span><br><span class="line">        content = response.css(<span class="string">'#cnblogs_post_body'</span>).extract_first().strip()</span><br><span class="line">        cate = response.css(<span class="string">'#BlogPostCategory &gt; a::text'</span>).get(default=<span class="string">'not-found'</span>)       </span><br><span class="line"></span><br><span class="line">        update = response.css(<span class="string">'#post-date::text'</span>).extract_first().strip()</span><br><span class="line">        items[<span class="string">'title'</span>] = title</span><br><span class="line">        items[<span class="string">'link'</span>] = link</span><br><span class="line">        items[<span class="string">'content'</span>] = content</span><br><span class="line">        items[<span class="string">'cate'</span>] = cate</span><br><span class="line">        items[<span class="string">'update'</span>] = update</span><br><span class="line">        <span class="keyword">yield</span> items</span><br></pre></td></tr></table></figure></p>
<p>修改pipelines.py文件<br><figure class="hljs highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymongo</span><br><span class="line"><span class="keyword">from</span> .items <span class="keyword">import</span> ArticleItem</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScrapytutorialPipeline</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.conn = pymongo.MongoClient(</span><br><span class="line">            <span class="string">'127.0.0.1'</span>,</span><br><span class="line">            <span class="number">27017</span></span><br><span class="line">        )</span><br><span class="line">        db = self.conn[<span class="string">'scrapy'</span>]</span><br><span class="line">        self.collection = db[<span class="string">'article'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_item</span><span class="params">(self, item, spider)</span>:</span>        </span><br><span class="line">        <span class="keyword">if</span> isinstance(item, ArticleItem):</span><br><span class="line">            <span class="keyword">return</span> self.collection.insert(dict(item))</span><br><span class="line">        <span class="keyword">return</span> item</span><br></pre></td></tr></table></figure></p>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/scrapy/" rel="tag"><i class="fas fa-tags"></i>scrapy</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/11/python开发：scrapy爬虫（五）/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="hedgehog">
        <meta itemprop="description" content="程序爱好者">
        <meta itemprop="image" content="/images/avatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="chenying99'blog">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/08/11/python开发：scrapy爬虫（五）/" itemprop="url">python开发：scrapy爬虫（五）</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-08-11T14:09:21+08:00">2019-08-11 14:09:21</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>本文实现scrapy的分页采集功能 </p>
<p>分页方式一：<br><figure class="hljs highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> scrapy.selector <span class="keyword">import</span> Selector</span><br><span class="line"><span class="keyword">from</span> scrapy.http <span class="keyword">import</span> HtmlResponse</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> ..items <span class="keyword">import</span> ScrapytutorialItem</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line">    name = <span class="string">'blog'</span>    </span><br><span class="line">    start_urls = &#123;</span><br><span class="line">        <span class="string">'https://www.cnblogs.com/chenying99/'</span>        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></span><br><span class="line"></span><br><span class="line">        items = ScrapytutorialItem()</span><br><span class="line">        container = response.css(<span class="string">'#main'</span>)[<span class="number">0</span>]</span><br><span class="line">        posts = container.css(<span class="string">'div.post'</span>)</span><br><span class="line">        <span class="keyword">for</span> article <span class="keyword">in</span> posts:</span><br><span class="line"></span><br><span class="line">            title = article.css(<span class="string">'a.postTitle2::text'</span>).extract_first().strip()</span><br><span class="line">            link = article.css(<span class="string">'a.postTitle2::attr(href)'</span>).extract_first()</span><br><span class="line">            items[<span class="string">'title'</span>] = title</span><br><span class="line">            items[<span class="string">'link'</span>] = link            </span><br><span class="line">            <span class="keyword">yield</span> items</span><br><span class="line">        </span><br><span class="line">        next_page = response.css(<span class="string">'#homepage_bottom_pager &gt; div &gt; a:nth-child(8)::attr(href)'</span>).get()</span><br><span class="line">        <span class="keyword">if</span> next_page <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">None</span>:</span><br><span class="line">            <span class="keyword">yield</span> response.follow(next_page, callback=self.parse)</span><br></pre></td></tr></table></figure></p>
<p>分页方式二：<br><figure class="hljs highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> scrapy.selector <span class="keyword">import</span> Selector</span><br><span class="line"><span class="keyword">from</span> scrapy.http <span class="keyword">import</span> HtmlResponse</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> ..items <span class="keyword">import</span> ScrapytutorialItem</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line">    name = <span class="string">'blog'</span></span><br><span class="line">    page_number = <span class="number">2</span></span><br><span class="line">    start_urls = &#123;        </span><br><span class="line">        <span class="string">'https://www.cnblogs.com/chenying99/default.html?page=1'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></span><br><span class="line"></span><br><span class="line">        items = ScrapytutorialItem()</span><br><span class="line">        container = response.css(<span class="string">'#main'</span>)[<span class="number">0</span>]</span><br><span class="line">        posts = container.css(<span class="string">'div.post'</span>)</span><br><span class="line">        <span class="keyword">for</span> article <span class="keyword">in</span> posts:</span><br><span class="line"></span><br><span class="line">            title = article.css(<span class="string">'a.postTitle2::text'</span>).extract_first().strip()</span><br><span class="line">            link = article.css(<span class="string">'a.postTitle2::attr(href)'</span>).extract_first()</span><br><span class="line">            items[<span class="string">'title'</span>] = title</span><br><span class="line">            items[<span class="string">'link'</span>] = link                   </span><br><span class="line">            <span class="keyword">yield</span> items</span><br><span class="line"></span><br><span class="line">        next_page = <span class="string">'https://www.cnblogs.com/chenying99/default.html?page='</span>+str(BlogSpider.page_number)</span><br><span class="line">        <span class="keyword">if</span> BlogSpider.page_number &lt; <span class="number">10</span>:</span><br><span class="line">            BlogSpider.page_number += <span class="number">1</span></span><br><span class="line">            <span class="keyword">yield</span> response.follow(next_page, callback=self.parse)</span><br></pre></td></tr></table></figure></p>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/scrapy/" rel="tag"><i class="fas fa-tags"></i>scrapy</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/11/python开发：scrapy爬虫（四）/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="hedgehog">
        <meta itemprop="description" content="程序爱好者">
        <meta itemprop="image" content="/images/avatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="chenying99'blog">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/08/11/python开发：scrapy爬虫（四）/" itemprop="url">python开发：scrapy爬虫（四）</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-08-11T07:56:33+08:00">2019-08-11 07:56:33</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>也可以将scrapy采集的数据输出到json文件，运行scrapy crawl blog -o items.json </p>
<p>本文主要介绍怎样将采集的数据存储到mongodb </p>
<p>首先配置setting.py文件里面的item pipelines </p>
<figure class="hljs highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Configure item pipelines</span></span><br><span class="line"><span class="comment"># See https://doc.scrapy.org/en/latest/topics/item-pipeline.html</span></span><br><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">    <span class="string">'scrapytutorial.pipelines.ScrapytutorialPipeline'</span>: <span class="number">300</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>安装pymongo<br>conda install pymongo </p>
<p>修改pipelines.py文件<br><figure class="hljs highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymongo</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScrapytutorialPipeline</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.conn = pymongo.MongoClient(</span><br><span class="line">            <span class="string">'127.0.0.1'</span>,</span><br><span class="line">            <span class="number">27017</span></span><br><span class="line">        )</span><br><span class="line">        db = self.conn[<span class="string">'scrapy'</span>]</span><br><span class="line">        self.collection = db[<span class="string">'blog'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_item</span><span class="params">(self, item, spider)</span>:</span></span><br><span class="line">        <span class="comment"># print("pipline测试 "+item['title'])</span></span><br><span class="line">        self.collection.insert(dict(item))</span><br></pre></td></tr></table></figure></p>
<p>运行scrapy crawl blog<br>查看mongodb数据库记录<br><img src="/images/scrapy5.png" alt=""> </p>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/scrapy/" rel="tag"><i class="fas fa-tags"></i>scrapy</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/10/python开发：scrapy爬虫（三）/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="hedgehog">
        <meta itemprop="description" content="程序爱好者">
        <meta itemprop="image" content="/images/avatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="chenying99'blog">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/08/10/python开发：scrapy爬虫（三）/" itemprop="url">python开发：scrapy爬虫（三）</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-08-10T20:50:32+08:00">2019-08-10 20:50:32</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>上文已实现了简单的抓取文章的功能，这里进一步改进 </p>
<p>修改scrapytutorial目录的items.py文件 </p>
<figure class="hljs highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ScrapytutorialItem</span><span class="params">(scrapy.Item)</span>:</span></span><br><span class="line">    <span class="comment"># define the fields for your item here like:</span></span><br><span class="line">    <span class="comment"># name = scrapy.Field()</span></span><br><span class="line">    title = scrapy.Field()</span><br><span class="line">    link = scrapy.Field()</span><br><span class="line">    <span class="comment"># pass</span></span><br></pre></td></tr></table></figure>
<p>修改spiders目录blog_spider.py文件<br><figure class="hljs highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> scrapy.selector <span class="keyword">import</span> Selector</span><br><span class="line"><span class="keyword">from</span> scrapy.http <span class="keyword">import</span> HtmlResponse</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> ..items <span class="keyword">import</span> ScrapytutorialItem</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line">    name = <span class="string">'blog'</span></span><br><span class="line">    start_urls = &#123;</span><br><span class="line">        <span class="string">'https://www.cnblogs.com/chenying99/'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></span><br><span class="line"></span><br><span class="line">        items = ScrapytutorialItem()</span><br><span class="line">        container = response.css(<span class="string">'#main'</span>)[<span class="number">0</span>]</span><br><span class="line">        posts = container.css(<span class="string">'div.post'</span>)</span><br><span class="line">        <span class="keyword">for</span> article <span class="keyword">in</span> posts:</span><br><span class="line"></span><br><span class="line">            title = article.css(<span class="string">'a.postTitle2::text'</span>).extract_first().strip()</span><br><span class="line">            link = article.css(<span class="string">'a.postTitle2::attr(href)'</span>).extract_first()</span><br><span class="line">            items[<span class="string">'title'</span>] = title</span><br><span class="line">            items[<span class="string">'link'</span>] = link</span><br><span class="line">            <span class="keyword">yield</span> items</span><br></pre></td></tr></table></figure></p>
<p>重新运行scrapy crawl blog<br><img src="/images/scrapy3.png" alt=""> </p>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/scrapy/" rel="tag"><i class="fas fa-tags"></i>scrapy</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/10/python开发：scrapy爬虫（二）/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="hedgehog">
        <meta itemprop="description" content="程序爱好者">
        <meta itemprop="image" content="/images/avatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="chenying99'blog">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/08/10/python开发：scrapy爬虫（二）/" itemprop="url">python开发：scrapy爬虫（二）</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-08-10T20:03:22+08:00">2019-08-10 20:03:22</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>修改scrapytutorial目录settings.py文件<br>USER_AGENT = ‘Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36’ </p>
<p>这里以抓取博客园文章为例<br>在spiders目录添加blog_spider.py文件<br><figure class="hljs highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> scrapy.selector <span class="keyword">import</span> Selector</span><br><span class="line"><span class="keyword">from</span> scrapy.http <span class="keyword">import</span> HtmlResponse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BlogSpider</span><span class="params">(scrapy.Spider)</span>:</span></span><br><span class="line">    name = <span class="string">'blog'</span></span><br><span class="line">    start_urls = &#123;</span><br><span class="line">        <span class="string">'https://www.cnblogs.com/chenying99/'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self, response)</span>:</span></span><br><span class="line">       </span><br><span class="line">        container = response.css(<span class="string">'#main'</span>)[<span class="number">0</span>]        </span><br><span class="line">        posts = container.css(<span class="string">'div.post'</span>)       </span><br><span class="line">        <span class="keyword">for</span> article <span class="keyword">in</span> posts:           </span><br><span class="line">            title = article.css(<span class="string">'a.postTitle2::text'</span>).extract_first().strip()</span><br><span class="line">            link = article.css(<span class="string">'a.postTitle2::attr(href)'</span>).extract_first()</span><br><span class="line">            <span class="keyword">yield</span> &#123;<span class="string">'标题'</span>: title, <span class="string">'链接'</span>: link&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行scrapy crawl blog<br><img src="/images/scrapy2.png" alt=""><br>补充：获取html标签的css选择器，SelectorGadget plugin</p>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/scrapy/" rel="tag"><i class="fas fa-tags"></i>scrapy</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/10/python开发：scrapy爬虫（一）/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="hedgehog">
        <meta itemprop="description" content="程序爱好者">
        <meta itemprop="image" content="/images/avatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="chenying99'blog">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/08/10/python开发：scrapy爬虫（一）/" itemprop="url">python开发：scrapy爬虫（一）</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-08-10T20:02:31+08:00">2019-08-10 20:02:31</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>创建环境<br>conda create –name scrapytutorial python=3.7.4 </p>
<p>安装scrapy<br>conda install -c scrapinghub scrapy </p>
<p>创建项目<br>scrapy startproject scrapytutorial </p>
<p>生成的项目如下 </p>
<p><img src="/images/scrapy1.png" alt=""> </p>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/scrapy/" rel="tag"><i class="fas fa-tags"></i>scrapy</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/10/python开发：Anaconda最新版命令-4-7-11/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="hedgehog">
        <meta itemprop="description" content="程序爱好者">
        <meta itemprop="image" content="/images/avatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="chenying99'blog">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/08/10/python开发：Anaconda最新版命令-4-7-11/" itemprop="url">python开发：Anaconda最新版命令(4.7.11)</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-08-10T19:17:19+08:00">2019-08-10 19:17:19</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>最新版的Anaconda命令与旧版稍有差异，这里记录以备查<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">查看Anaconda版本 </span><br><span class="line">conda --version </span><br><span class="line"></span><br><span class="line">conda create --name snowflakes biopython </span><br><span class="line">conda activate snowflakes（激活环境） </span><br><span class="line">conda info --envs </span><br><span class="line">conda activate（退回默认环境）  </span><br><span class="line"></span><br><span class="line">conda create --name snakes python=3.5 </span><br><span class="line">conda activate snakes（激活环境） </span><br><span class="line">conda info --envs </span><br><span class="line">python --version </span><br><span class="line">conda activate（退回默认环境） </span><br><span class="line"></span><br><span class="line">conda search beautifulsoup4 </span><br><span class="line">conda install beautifulsoup4 </span><br><span class="line">conda list </span><br><span class="line"></span><br><span class="line">查看帮助 </span><br><span class="line">conda --help </span><br><span class="line">conda update -h</span><br></pre></td></tr></table></figure></p>
<p>.condarc设置源<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">channels:</span><br><span class="line">  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br><span class="line">  - defaults</span><br><span class="line">show_channel_urls: true</span><br><span class="line">ssl_verify: true</span><br></pre></td></tr></table></figure></p>
<p>pip/pip.ini<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">trusted-host =  pypi.tuna.tsinghua.edu.cn</span><br><span class="line">index-url = https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure></p>
<hr>
<p>旧版本命令<br><figure class="hljs highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">conda --version</span><br><span class="line">python --version</span><br><span class="line"></span><br><span class="line">conda upgrade --all</span><br><span class="line"></span><br><span class="line">移除环境</span><br><span class="line">conda remove -n py35 --all(conda env remove  -n python36 # 测试可行)</span><br><span class="line">移除包</span><br><span class="line">conda remove -n py35 iopro</span><br><span class="line">conda create --name py35 python=3.5 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">activate py35</span><br><span class="line">deactivate(deactivate python36 )</span><br><span class="line"></span><br><span class="line">conda install pyqt=5</span><br><span class="line">conda remove pyqt</span><br><span class="line">conda update package_name（升级）</span><br><span class="line">python -m pip install --upgrade pip（貌似是升级pip）</span><br><span class="line"></span><br><span class="line">conda list</span><br><span class="line"></span><br><span class="line">conda info -e(conda env list)</span><br><span class="line"></span><br><span class="line">pip install labelImg（安装）</span><br><span class="line">pip uninstall requests</span><br><span class="line"></span><br><span class="line">pip install --upgrade labelImg（升级）</span><br><span class="line"></span><br><span class="line">conda env export --file python36_20190106.yml</span><br><span class="line">conda env create -f  d:\python36_20190106.yml</span><br></pre></td></tr></table></figure></p>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/Anaconda/" rel="tag"><i class="fas fa-tags"></i>Anaconda</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/02/nodejs开发：webpack4-39-0配置/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="hedgehog">
        <meta itemprop="description" content="程序爱好者">
        <meta itemprop="image" content="/images/avatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="chenying99'blog">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/08/02/nodejs开发：webpack4-39-0配置/" itemprop="url">nodejs开发：webpack4.39.0配置</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-08-02T19:25:19+08:00">2019-08-02 19:25:19</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/nodejs/" itemprop="url" rel="index"><span itemprop="name">nodejs</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>webpack是nodejs开发中，经常需要用到工具；貌似不同的版本的配置稍有差异，经常碰到各种错误<br>这里本人基于目前最新版本进行了配置测试 </p>
<p>安装相关package </p>
<p>创建目录<br>mkdir webpacktest &amp;&amp; cd webpacktest</p>
<p>npm init -y<br>npm i -D webpack webpack-cli</p>
<p>npm i -D html-webpack-plugin html-loader</p>
<p>npm i -D webpack-dev-server</p>
<p>npm i -D @babel/core babel-loader @babel/preset-env</p>
<p>npm i -D file-loader</p>
<p>npm i -D node-sass style-loader css-loader sass-loader mini-css-extract-plugin</p>
<p>package.json文件<br><figure class="hljs highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"webpacktest"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"build"</span>: <span class="string">"webpack"</span>,</span><br><span class="line">    <span class="attr">"start:dev"</span>: <span class="string">"webpack-dev-server"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"keywords"</span>: [],</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"@babel/core"</span>: <span class="string">"^7.5.5"</span>,</span><br><span class="line">    <span class="attr">"@babel/preset-env"</span>: <span class="string">"^7.5.5"</span>,</span><br><span class="line">    <span class="attr">"babel-loader"</span>: <span class="string">"^8.0.6"</span>,</span><br><span class="line">    <span class="attr">"css-loader"</span>: <span class="string">"^3.1.0"</span>,</span><br><span class="line">    <span class="attr">"file-loader"</span>: <span class="string">"^4.1.0"</span>,</span><br><span class="line">    <span class="attr">"html-loader"</span>: <span class="string">"^0.5.5"</span>,</span><br><span class="line">    <span class="attr">"html-webpack-plugin"</span>: <span class="string">"^3.2.0"</span>,</span><br><span class="line">    <span class="attr">"mini-css-extract-plugin"</span>: <span class="string">"^0.8.0"</span>,</span><br><span class="line">    <span class="attr">"node-sass"</span>: <span class="string">"^4.12.0"</span>,</span><br><span class="line">    <span class="attr">"sass-loader"</span>: <span class="string">"^7.1.0"</span>,</span><br><span class="line">    <span class="attr">"style-loader"</span>: <span class="string">"^0.23.1"</span>,</span><br><span class="line">    <span class="attr">"webpack"</span>: <span class="string">"^4.39.0"</span>,</span><br><span class="line">    <span class="attr">"webpack-cli"</span>: <span class="string">"^3.3.6"</span>,</span><br><span class="line">    <span class="attr">"webpack-dev-server"</span>: <span class="string">"^3.7.2"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>webpack.config.js文件<br><figure class="hljs highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebPackPlugin = <span class="built_in">require</span>(<span class="string">"html-webpack-plugin"</span>);</span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">"mini-css-extract-plugin"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use:&#123;</span><br><span class="line">                    loader: <span class="string">'babel-loader'</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.html$/</span>,</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: <span class="string">'html-loader'</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        minimize: <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;],</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.(png|svg|jpg|gif)$/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'file-loader'</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test:<span class="regexp">/\.scss$/</span>,</span><br><span class="line">                use:[</span><br><span class="line">                    <span class="string">"style-loader"</span>,</span><br><span class="line">                    <span class="string">"css-loader"</span>,</span><br><span class="line">                    <span class="string">"sass-loader"</span></span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [<span class="keyword">new</span> HtmlWebPackPlugin(&#123;</span><br><span class="line">        template: <span class="string">'./src/index.html'</span>,</span><br><span class="line">        filename: <span class="string">'./index.html'</span></span><br><span class="line">    &#125;),</span><br><span class="line">       <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">        filename:<span class="string">"[name].css"</span>,</span><br><span class="line">        chunkFilename:<span class="string">"[id].css"</span></span><br><span class="line">       &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输入命令 npm run build进行打包<br>    npm run start:dev进行开发 </p>
<p>安装静态服务器<br>npm i http-server -g<br>http-server -o（运行服务器）</p>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/javascript/" rel="tag"><i class="fas fa-tags"></i>javascript</a>
        
        <a class="post-tag button" href="/tags/webpack/" rel="tag"><i class="fas fa-tags"></i>webpack</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/01/opencv4-0-0图像处理：颜色空间（八）/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="hedgehog">
        <meta itemprop="description" content="程序爱好者">
        <meta itemprop="image" content="/images/avatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="chenying99'blog">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/06/01/opencv4-0-0图像处理：颜色空间（八）/" itemprop="url">opencv4.0.0图像处理：颜色空间（八）</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-06-01T17:01:36+08:00">2019-06-01 17:01:36</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/opencv/" itemprop="url" rel="index"><span itemprop="name">opencv</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>我们可以将图像的BGR颜色空间转换到HSV颜色空间，然后基于HSV颜色空间对图片颜色处理 </p>
<p>HSV表示Hue, Saturation, Value，其中Hue范围0~180，Saturation范围0~255，Value范围0~255 </p>
<p>那么我们怎么根据HSV颜色空间提取图像中的颜色呢？这里有一个指导（在具体实践中，我们可以根据HSV的直方图作参考） </p>
<p><img src="/images/2761157-3fa7a2bfdecfabe4.png" alt=""></p>
<p>这里的例子是提取图像中的苹果<br><figure class="hljs highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		Mat img = Imgcodecs.imread(<span class="string">"data/apple.jpg"</span>);</span><br><span class="line">		Mat imgHSV = <span class="keyword">new</span> Mat(img.rows(), img.cols(), CvType.CV_8UC3);		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// RGB-&gt;HSV</span></span><br><span class="line">		Imgproc.cvtColor(img, imgHSV, Imgproc.COLOR_BGR2HSV);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		Scalar lower_hsv = <span class="keyword">new</span> Scalar(<span class="number">0</span>,<span class="number">90</span>,<span class="number">70</span>);</span><br><span class="line">		Scalar upper_hsv = <span class="keyword">new</span> Scalar(<span class="number">15</span>,<span class="number">230</span>,<span class="number">255</span>);		</span><br><span class="line">				</span><br><span class="line">		Mat mask = <span class="keyword">new</span> Mat();</span><br><span class="line">		Core.inRange(imgHSV, lower_hsv, upper_hsv, mask);</span><br><span class="line">		Mat blackImg = <span class="keyword">new</span> Mat();</span><br><span class="line">		Core.bitwise_and(img, img, blackImg,mask);</span><br><span class="line"></span><br><span class="line">		HighGui.imshow(<span class="string">"原图"</span>, img);</span><br><span class="line">		HighGui.imshow(<span class="string">"mask"</span>, mask);</span><br><span class="line">		HighGui.imshow(<span class="string">"颜色过滤"</span>, blackImg);</span><br><span class="line">		HighGui.waitKey(<span class="number">0</span>);</span><br><span class="line">		System.exit(<span class="number">0</span>);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/images/apple.jpg" alt=""><br><img src="/images/QQ截图20190601171816.png" alt=""><br><img src="/images/QQ截图20190601171903.png" alt=""></p>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/opencv/" rel="tag"><i class="fas fa-tags"></i>opencv</a>
        
        <a class="post-tag button" href="/tags/图像处理/" rel="tag"><i class="fas fa-tags"></i>图像处理</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/01/opencv4-0-0图像处理：图像直方图（七）/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="hedgehog">
        <meta itemprop="description" content="程序爱好者">
        <meta itemprop="image" content="/images/avatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="chenying99'blog">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2019/06/01/opencv4-0-0图像处理：图像直方图（七）/" itemprop="url">opencv4.0.0图像处理：图像直方图（七）</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-06-01T17:00:17+08:00">2019-06-01 17:00:17</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/opencv/" itemprop="url" rel="index"><span itemprop="name">opencv</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>图像直方图反映了图像像素的密度分布,下面是BGR图像三通道的直方图测试 </p>
<figure class="hljs highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        Mat hello =Imgcodecs.imread(<span class="string">"data/lena.jpg"</span>);        </span><br><span class="line">        List&lt;Mat&gt; bgrPlanes = <span class="keyword">new</span> ArrayList&lt;&gt;();        </span><br><span class="line">        Core.split(hello, bgrPlanes);        </span><br><span class="line">        </span><br><span class="line">        MatOfFloat histRange = <span class="keyword">new</span> MatOfFloat(<span class="number">0</span>, <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">int</span> histSize = <span class="number">256</span>;</span><br><span class="line">        <span class="comment">//MatOfInt channels = new MatOfInt(0);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">boolean</span> accumulate = <span class="keyword">false</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//Mat histImg1 = new Mat();        </span></span><br><span class="line">        Mat bHist = <span class="keyword">new</span> Mat(), gHist = <span class="keyword">new</span> Mat(), rHist = <span class="keyword">new</span> Mat();</span><br><span class="line">        </span><br><span class="line">        Imgproc.calcHist(bgrPlanes, <span class="keyword">new</span> MatOfInt(<span class="number">0</span>), <span class="keyword">new</span> Mat(), bHist, <span class="keyword">new</span> MatOfInt(histSize),histRange,accumulate);</span><br><span class="line">        Imgproc.calcHist(bgrPlanes, <span class="keyword">new</span> MatOfInt(<span class="number">1</span>), <span class="keyword">new</span> Mat(), gHist, <span class="keyword">new</span> MatOfInt(histSize), histRange, accumulate);</span><br><span class="line">        Imgproc.calcHist(bgrPlanes, <span class="keyword">new</span> MatOfInt(<span class="number">2</span>), <span class="keyword">new</span> Mat(), rHist, <span class="keyword">new</span> MatOfInt(histSize), histRange, accumulate);        </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> histW = <span class="number">512</span>, histH = <span class="number">400</span>;</span><br><span class="line">        <span class="keyword">int</span> binW = (<span class="keyword">int</span>) Math.round((<span class="keyword">double</span>) histW / histSize);</span><br><span class="line"></span><br><span class="line">        Mat histImage = <span class="keyword">new</span> Mat( histH, histW, CvType.CV_8UC3, <span class="keyword">new</span> Scalar( <span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>) );        </span><br><span class="line">       </span><br><span class="line">        Core.normalize(bHist, bHist, <span class="number">0</span>, histImage.rows()-<span class="number">20</span>, Core.NORM_MINMAX);</span><br><span class="line">        Core.normalize(gHist, gHist, <span class="number">0</span>, histImage.rows()-<span class="number">20</span>, Core.NORM_MINMAX);</span><br><span class="line">        Core.normalize(rHist, rHist, <span class="number">0</span>, histImage.rows()-<span class="number">20</span>, Core.NORM_MINMAX);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">float</span>[] bHistData = <span class="keyword">new</span> <span class="keyword">float</span>[(<span class="keyword">int</span>) (bHist.total() * bHist.channels())];</span><br><span class="line">        bHist.get(<span class="number">0</span>, <span class="number">0</span>, bHistData);</span><br><span class="line">        System.out.println(Arrays.toString(bHistData));</span><br><span class="line">        <span class="keyword">float</span>[] gHistData = <span class="keyword">new</span> <span class="keyword">float</span>[(<span class="keyword">int</span>) (gHist.total() * gHist.channels())];</span><br><span class="line">        gHist.get(<span class="number">0</span>, <span class="number">0</span>, gHistData);</span><br><span class="line">        <span class="keyword">float</span>[] rHistData = <span class="keyword">new</span> <span class="keyword">float</span>[(<span class="keyword">int</span>) (rHist.total() * rHist.channels())];</span><br><span class="line">        rHist.get(<span class="number">0</span>, <span class="number">0</span>, rHistData);</span><br><span class="line">       </span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt; histSize; i++ ) &#123;            </span><br><span class="line">            Imgproc.line(histImage, <span class="keyword">new</span> Point(binW * (i - <span class="number">1</span>), histH - Math.round(bHistData[i - <span class="number">1</span>])),<span class="keyword">new</span> Point(binW * (i), histH - Math.round(bHistData[i])), <span class="keyword">new</span> Scalar(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="number">2</span>);</span><br><span class="line">            Imgproc.line(histImage, <span class="keyword">new</span> Point(binW * (i - <span class="number">1</span>), histH - Math.round(gHistData[i - <span class="number">1</span>])),<span class="keyword">new</span> Point(binW * (i), histH - Math.round(gHistData[i])), <span class="keyword">new</span> Scalar(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>);</span><br><span class="line">            Imgproc.line(histImage, <span class="keyword">new</span> Point(binW * (i - <span class="number">1</span>), histH - Math.round(rHistData[i - <span class="number">1</span>])),<span class="keyword">new</span> Point(binW * (i), histH - Math.round(rHistData[i])), <span class="keyword">new</span> Scalar(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>);</span><br><span class="line">        &#125;        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//imshow(histImage, "histImage");</span></span><br><span class="line">        HighGui.imshow(<span class="string">"histImage"</span>, histImage);</span><br><span class="line">        HighGui.imshow(<span class="string">"hello"</span>, hello);</span><br><span class="line">        HighGui.waitKey(<span class="number">0</span>);</span><br><span class="line">        System.exit(<span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><img src="/images/lena.jpg" alt=""><br><img src="/images/601.png" alt=""><br>观察上面的直方图可以看到，blue通道与green通道的直方图偏向左边，而red通道的直方图偏向右边；如果我们显示单通道的图像，估计blue通道与green通道的图像偏黑，而red通道的图像偏白<br><img src="/images/1920.png" alt=""></p>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/opencv/" rel="tag"><i class="fas fa-tags"></i>opencv</a>
        
        <a class="post-tag button" href="/tags/图像处理/" rel="tag"><i class="fas fa-tags"></i>图像处理</a>
        
      </div>
      
    </footer>
  </article>
  
  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fas fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fas fa-angle-right" aria-label="下一页"></i></a>
  </nav>
  
  
  

<div class="comments" id="comments">
  
  
  
</div>



  
</div>

          </div>
          
          
          
<aside class="sidebar" id="sidebar" style="background: url(/images/background.png);">
  
  <div class="search">
    <div class="form-group">
      <i class="fas fa-search"></i><input type="search" id="search-input" name="q" results="0" placeholder="搜索" class="form-control"/>
    </div>
  </div>
  <div class="search-result-box" id="search-result"></div>
  
  
<div class="info sidebar-item" id="info">
  
  <img class="author-avatar" src="/images/avatar.png" alt="hedgehog">
  
  <h1 class="author-name">hedgehog</h1>
  <h2 class="author-description">程序爱好者</h2>
  <div class="site-count">
    
    <div class="archives-count">
      <div class="site-count-title">归档</div>
      <div><a href="/archives/">59</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="categories-count">
      <div class="site-count-title">分类</div>
      <div><a href="/categories/">10</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="tags-count">
      <div class="site-count-title">标签</div>
      <div><a href="/tags/">25</a></div>
    </div>
    
  </div>
  
  <div class="rss">
    <a class="rss-link button sidebar-item" href="/atom.xml"><i class="fas fa-rss"></i>RSS</a>
  </div>
  
</div>


  <div class="sidebar-sticky">
    
    
    <hr>
    <div class="social-link sidebar-item">
      <div><i class="far fa-address-card"></i>社交链接</p></div>
      <ul>
        
        <li><i class="fas fa-envelope"></i><a href="mailto:chenying998179@foxmail.com" target="_blank">E-Mail</a></li>
        
        <li><i class="fab fa-github"></i><a href="https://github.com/" target="_blank">GitHub</a></li>
        
        <li><i class="fab fa-weibo"></i><a href="https://weibo.com/" target="_blank">Weibo</a></li>
        
      </ul>
    </div>
    
    
    <hr>
    <div class="blogroll sidebar-item">
      <div><i class="fas fa-link"></i>友情链接</div>
      <ul>
        
        <li><i class="fas fa-link"></i><a href="https://github.com/" target="_blank">GitHub</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://developer.mozilla.org/" target="_blank">MDN</a></li>
        
        <li><i class="fas fa-link"></i><a href="https://mozilla.github.io/nunjucks/" target="_blank">Nunjucks</a></li>
        
      </ul>
    </div>
    
  </div>
</aside>


          
        </div>
      </div>
    </main>
    
<footer id="footer" class="footer" style="background: #33363b;">
  <div class="container">
    <div class="back-to-top">
      <button id="back-to-top"><i class="fas fa-angle-double-up" aria-label="回到顶部"></i></button>
    </div>
    <div class="footer-container">
      <div class="footer-left">
        <div class="copyright">
          <span class="author">hedgehog</span><span class="year"><i class="far fa-copyright"></i>2020</span>
        </div>
        
        <div class="busuanzi">
          <span id="busuanzi_container_site_pv"><i class="fas fa-eye" aria-label="站点点击量" aria-hidden="false"></i><span id="busuanzi_value_site_pv"></span></span><span id="busuanzi_container_site_uv"><i class="fas fa-user" aria-label="站点用户数" aria-hidden="false"></i><span id="busuanzi_value_site_uv"></span></span><span id="busuanzi_container_page_pv"><i class="far fa-file-alt"></i><span id="busuanzi_value_page_pv" aria-label="页面点击量" aria-hidden="false"></span></span>
        </div>
        
      </div>
      <div class="footer-right">
        <div class="custom-info">
          
          托管于<i class="fab fa-github-alt"></i><a href="https://pages.github.com/" target="_blank">GitHub Pages</a>
          
        </div>
        <div class="powered-by">
          由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动 | 主题 <a href="https://github.com/AlynxZhou/hexo-theme-aria/" target="_blank">ARIA</a>
        </div>
      </div>
    </div>
  </div>
</footer>


  </body>
</html>
